# DeFi Arbitrage Engine Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# TimescaleDB connection string
DATABASE_URL=timescaledb://arbitrage_user:arbitrage_pass@localhost:5432/arbitrage_db

# Redis connection string
REDIS_URL=redis://localhost:6379

# Database pool settings
DATABASE_MAX_CONNECTIONS=20
DATABASE_MIN_CONNECTIONS=5
DATABASE_ACQUIRE_TIMEOUT=30

# =============================================================================
# SOLANA CONFIGURATION
# =============================================================================

# Solana RPC endpoint (use your own for production)
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com
# Alternative: https://solana-api.projectserum.com
# Alternative: https://rpc.ankr.com/solana

# Solana WebSocket endpoint
SOLANA_WS_URL=wss://api.mainnet-beta.solana.com

# Path to your Solana keypair file
SOLANA_PRIVATE_KEY_PATH=/path/to/your/keypair.json

# Solana commitment level (processed, confirmed, finalized)
SOLANA_COMMITMENT=confirmed

# RPC timeout settings (in seconds)
SOLANA_RPC_TIMEOUT=30
SOLANA_WS_TIMEOUT=60

# =============================================================================
# DEX CONFIGURATION
# =============================================================================

# Jupiter API configuration
JUPITER_API_URL=https://quote-api.jup.ag/v6
JUPITER_API_KEY=your_jupiter_api_key_here

# Raydium API configuration
RAYDIUM_API_URL=https://api.raydium.io/v2
RAYDIUM_API_KEY=your_raydium_api_key_here

# Orca API configuration
ORCA_API_URL=https://api.orca.so
ORCA_API_KEY=your_orca_api_key_here

# Meteora API configuration
METEORA_API_URL=https://app.meteora.ag/api
METEORA_API_KEY=your_meteora_api_key_here

# =============================================================================
# TRADING CONFIGURATION
# =============================================================================

# Maximum slippage tolerance (0.01 = 1%)
MAX_SLIPPAGE=0.01

# Minimum profit threshold in USD
MIN_PROFIT_THRESHOLD=0.001

# Maximum position size in USD
MAX_POSITION_SIZE=1000.0

# Gas price multiplier for priority fees
GAS_PRICE_MULTIPLIER=1.2

# Maximum number of concurrent trades
MAX_CONCURRENT_TRADES=5

# Trade execution timeout (in seconds)
TRADE_EXECUTION_TIMEOUT=30

# =============================================================================
# RISK MANAGEMENT
# =============================================================================

# Maximum drawdown percentage (0.05 = 5%)
MAX_DRAWDOWN=0.05

# Position size multiplier based on account balance
POSITION_SIZE_MULTIPLIER=0.1

# Stop loss threshold (0.02 = 2%)
STOP_LOSS_THRESHOLD=0.02

# Maximum leverage allowed
MAX_LEVERAGE=1.0

# Risk-free rate for calculations
RISK_FREE_RATE=0.02

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Prometheus metrics port
PROMETHEUS_PORT=9090

# Grafana dashboard port
GRAFANA_PORT=3000

# Health check endpoint port
HEALTH_CHECK_PORT=8080

# Metrics collection interval (in seconds)
METRICS_INTERVAL=10

# =============================================================================
# API CONFIGURATION
# =============================================================================

# REST API server configuration
API_HOST=0.0.0.0
API_PORT=3001

# WebSocket server configuration
WS_HOST=0.0.0.0
WS_PORT=3002

# API rate limiting
API_RATE_LIMIT=1000
API_RATE_WINDOW=3600

# CORS configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Rust log level (error, warn, info, debug, trace)
RUST_LOG=info

# Enable backtrace on panic
RUST_BACKTRACE=1

# Log file path
LOG_FILE_PATH=./logs/arbitrage-engine.log

# Log rotation settings
LOG_MAX_SIZE=100MB
LOG_MAX_FILES=10

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Number of worker threads
WORKER_THREADS=4

# Async runtime configuration
ASYNC_RUNTIME_THREADS=8

# Memory pool size for transactions
TRANSACTION_POOL_SIZE=1000

# Cache TTL settings (in seconds)
PRICE_CACHE_TTL=5
OPPORTUNITY_CACHE_TTL=1
ACCOUNT_CACHE_TTL=30

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT secret for API authentication
JWT_SECRET=your_jwt_secret_here_change_in_production

# API key for external access
API_KEY=your_api_key_here

# Enable/disable authentication
ENABLE_AUTH=true

# Session timeout (in seconds)
SESSION_TIMEOUT=3600

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Enable debug mode
DEBUG=true

# Enable hot reloading
HOT_RELOAD=true

# Mock external APIs for testing
MOCK_EXTERNAL_APIS=false

# =============================================================================
# NOTIFICATION CONFIGURATION
# =============================================================================

# Slack webhook URL for notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Discord webhook URL for notifications
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK

# Email configuration for notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM=your_email@gmail.com
SMTP_TO=admin@yourdomain.com

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup directory
BACKUP_DIR=/backups

# Backup retention period (in days)
BACKUP_RETENTION_DAYS=30

# Automatic backup interval (in hours)
BACKUP_INTERVAL=24

# Cloud storage configuration (optional)
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=your-backup-bucket

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable specific features
ENABLE_FLASH_LOANS=true
ENABLE_MEV_PROTECTION=true
ENABLE_CROSS_DEX_ARBITRAGE=true
ENABLE_AUTOMATED_TRADING=true
ENABLE_RISK_MANAGEMENT=true
ENABLE_NOTIFICATIONS=true
ENABLE_METRICS_COLLECTION=true

# =============================================================================
# ADVANCED CONFIGURATION
# =============================================================================

# Geyser gRPC endpoint for real-time data
GEYSER_GRPC_URL=grpc://your-geyser-endpoint:10000
GEYSER_ACCESS_TOKEN=your_geyser_token

# Jito MEV protection
JITO_BLOCK_ENGINE_URL=https://mainnet.block-engine.jito.wtf
JITO_AUTH_KEYPAIR_PATH=/path/to/jito/keypair.json

# Custom RPC endpoints for redundancy
CUSTOM_RPC_ENDPOINTS=https://rpc1.example.com,https://rpc2.example.com

# WebSocket reconnection settings
WS_RECONNECT_INTERVAL=5
WS_MAX_RECONNECT_ATTEMPTS=10

# Circuit breaker settings
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60
CIRCUIT_BREAKER_RESET_TIMEOUT=300